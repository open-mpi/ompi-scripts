{
  "variables": {
   "subnet_id" : "{{env `AWS_SUBNET_ID`}}",
   "vpc_id" : "{{env `AWS_VPC_ID`}}",
   "build_date" : "{{env `BUILD_DATE`}}",
   "iam_role" : "{{env `AWS_IAM_ROLE`}}"
  },
  "builders": [{
    "type": "amazon-ebs",
    "name" : "AmazonLinux1",
    "region": "us-west-2",
    "source_ami": "ami-01f08ef3e76b957e5",
    "instance_type": "t3.micro",
    "ssh_username": "ec2-user",
    "ssh_pty" : true,
    "ami_name": "Jenkins Amazon Linux 1 {{user `build_date`}}",
    "associate_public_ip_address" : true,
    "sriov_support" : true,
    "ena_support" : true,
    "iam_instance_profile" : "{{user `iam_role`}}"
  },{
    "type": "amazon-ebs",
    "name" : "AmazonLinux2",
    "region": "us-west-2",
    "source_ami": "ami-0d6621c01e8c2de2c",
    "instance_type": "t3.micro",
    "ssh_username": "ec2-user",
    "ssh_pty" : true,
    "ami_name": "Jenkins Amazon Linux 2 {{user `build_date`}}",
    "associate_public_ip_address" : true,
    "sriov_support" : true,
    "ena_support" : true,
    "iam_instance_profile" : "{{user `iam_role`}}"
  },{
    "type": "amazon-ebs",
    "name" : "Ubuntu16.04",
    "region": "us-west-2",
    "source_ami": "ami-008c6427c8facbe08",
    "instance_type": "t3.micro",
    "ssh_username": "ubuntu",
    "ssh_pty" : true,
    "ami_name": "Jenkins Ubuntu 16.04 {{user `build_date`}}",
    "associate_public_ip_address" : true,
    "sriov_support" : true,
    "ena_support" : true,
    "iam_instance_profile" : "{{user `iam_role`}}"
  },{
    "type": "amazon-ebs",
    "name" : "Ubuntu18.04",
    "region": "us-west-2",
    "source_ami": "ami-003634241a8fcdec0",
    "instance_type": "t3.micro",
    "ssh_username": "ubuntu",
    "ssh_pty" : true,
    "ami_name": "Jenkins Ubuntu 18.04 {{user `build_date`}}",
    "associate_public_ip_address" : true,
    "sriov_support" : true,
    "ena_support" : true,
    "iam_instance_profile" : "{{user `iam_role`}}"
  },{
    "type": "amazon-ebs",
    "name" : "Ubuntu20.04",
    "region": "us-west-2",
    "source_ami": "ami-09dd2e08d601bff67",
    "instance_type": "t3.micro",
    "ssh_username": "ubuntu",
    "ssh_pty" : true,
    "ami_name": "Jenkins Ubuntu 20.04 {{user `build_date`}}",
    "associate_public_ip_address" : true,
    "sriov_support" : true,
    "ena_support" : true,
    "iam_instance_profile" : "{{user `iam_role`}}"
  },{
    "type": "amazon-ebs",
    "name" : "RHEL77",
    "region": "us-west-2",
    "source_ami": "ami-00aa0a1b208ece144",
    "instance_type": "t3.micro",
    "ssh_username": "ec2-user",
    "ssh_pty" : true,
    "ami_name": "Jenkins RHEL 7.7 {{user `build_date`}}",
    "associate_public_ip_address" : true,
    "sriov_support" : true,
    "ena_support" : true,
    "iam_instance_profile" : "{{user `iam_role`}}"
  },{
    "type": "amazon-ebs",
    "name" : "RHEL80",
    "region": "us-west-2",
    "source_ami": "ami-02f147dfb8be58a10",
    "instance_type": "t3.micro",
    "ssh_username": "ec2-user",
    "ssh_pty" : true,
    "ami_name": "Jenkins RHEL 8.0 {{user `build_date`}}",
    "associate_public_ip_address" : true,
    "sriov_support" : true,
    "ena_support" : true,
    "iam_instance_profile" : "{{user `iam_role`}}"
  },{
    "type": "amazon-ebs",
    "name" : "SLES12sp5",
    "region": "us-west-2",
    "source_ami": "ami-0ef7bc560a2db93f8",
    "instance_type": "t3.micro",
    "ssh_username": "ec2-user",
    "ssh_pty" : true,
    "ami_name": "Jenkins SLES 12sp5 {{user `build_date`}}",
    "associate_public_ip_address" : true,
    "sriov_support" : true,
    "ena_support" : true,
    "iam_instance_profile" : "{{user `iam_role`}}"
  },{
    "type": "amazon-ebs",
    "name" : "SLES15sp1",
    "region": "us-west-2",
    "source_ami": "ami-0fde69c9f9f78ae47",
    "instance_type": "t3.micro",
    "ssh_username": "ec2-user",
    "ssh_pty" : true,
    "ami_name": "Jenkins SLES 15sp1 {{user `build_date`}}",
    "associate_public_ip_address" : true,
    "sriov_support" : true,
    "ena_support" : true,
    "iam_instance_profile" : "{{user `iam_role`}}"
  },{
    "type": "amazon-ebs",
    "name" : "FreeBSD11",
    "region": "us-west-2",
    "source_ami": "ami-6926f809",
    "instance_type": "t2.micro",
    "ssh_username": "ec2-user",
    "ssh_pty" : true,
    "ssh_timeout" : "10m",
    "ami_name": "Jenkins FreeBSD 11 {{user `build_date`}}",
    "associate_public_ip_address" : true,
    "sriov_support" : true,
    "ena_support" : true,
    "iam_instance_profile" : "{{user `iam_role`}}"
  }],
  "provisioners": [{
    "type": "shell",
    "script" : "customize-ami.sh"
  }]
}
